<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
	<style>
		body {
			margin: 0;
			padding: 0;
			width: 100vw;
			min-height: 100vh;
			background-color: #333;
			color: #ddd;
		}

		p {
			margin: auto;
			font-family: Georgia, 'Times New Roman', Times, serif;
			text-align: left;
		}
	</style>
</head>

<body>
	<p> 
		Fill the transaction ID field if you want! </br>
		transaction ID: <input id="transaction_id" type="text" name="tr_id">
	</p>

	<div style="display: flex; justify-content: center;">
		<div id="livechat" style="width: 300px; height: 400px;"></div>
	</div>
	

	<!-- Start of Rocket.Chat Livechat Script -->
	<script type="text/javascript">
		(function(w, d, s, u) {
			w.RocketChat = function(c) { w.RocketChat._.push(c) }; w.RocketChat._ = []; w.RocketChat.url = u;
			w.RocketChat.target = 'livechat';
			var h = d.getElementsByTagName(s)[0], j = d.createElement(s);
			j.async = true;
			// local build
			j.src = `./build/rocketchat-livechat.min.js?_=202005260000`;
			h.parentNode.insertBefore(j, h);
			// DEV BUILD
		})(window, document, 'script', 'https://bastardbot.rocket.chat/livechat');
	</script>
	<!-- End of Rocket.Chat Livechat Script -->
	<script type="text/javascript">
		const id_input = document.getElementById('transaction_id');
		id_input.addEventListener('change', () => {
			window.RocketChat(function() {
				this.setCustomField('transaction_id', id_input.value);
				this.removeCustomField('transaction_id');
				this.maximizeWidget();
				this.showWidget();
			});
		});
		
	</script>
</body>

</html>
