!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var i;
/*!
 * EventEmitter v5.2.5 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */!function(t){"use strict";function o(){}var r=o.prototype,s=t.EventEmitter;function a(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}r.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},r.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===a(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},r.on=c("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=c("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(n=a(o[i],t))&&o[i].splice(n,1);return this},r.off=c("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},r.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},r.removeAllListeners=c("removeEvent"),r.emitEvent=function(e,t){var n,i,o,r,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(n=s[r].slice(0),o=0;o<n.length;o++)!0===(i=n[o]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},r.trigger=c("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=s,o},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}("undefined"!=typeof window?window:this||{})},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i);const r=()=>{};window.RocketChat=window.RocketChat||{_:[]};const s={};let a,c,u,l,d=[],f=!1,h=!1;const p=["chat-maximized","chat-minimized","chat-started","chat-ended","pre-chat-form-submit","offline-form-submit"],m=new o.a;function v(e,t){return-1!==p.indexOf(e)&&m.on(e,t)}function y(e,t){void 0!==t?m.emit(e,t):m.emit(e)}function w(e,t){if(!f)return d.push([e,t]);const n={src:"rocketchat",fn:e,args:t};c.contentWindow.postMessage(n,"*")}const g=e=>{h&&e?(l=document.documentElement.scrollTop,u=document.body.style.cssText,document.body.style.cssText+=`overflow: hidden; height: 100%; width: 100%; position: fixed; top: ${l}px;`):(document.body.style.cssText=u,h&&(document.documentElement.scrollTop=l)),e?(a.style.left=h?"0":"auto",a.style.width=h?"100vw":"397px",a.style.height=h?"100vh":"612px",a.style.minHeight=h?"612px":"auto"):(a.style.left="auto",a.style.width="86px",a.style.height="86px",a.style.minHeight="auto")},b=()=>{"opened"!==a.dataset.state&&(g(!0),a.dataset.state="opened",c.focus(),w("widgetOpened"),y("chat-maximized"))};function x(){"closed"!==a.dataset.state&&(g(!1),a.dataset.state="closed",w("widgetClosed"),y("chat-minimized"))}const E={popup:null,ready(){f=!0,d.length>0&&(d.forEach(function(e){w.apply(this,e)}),d=[])},minimizeWindow(){x()},restoreWindow(){E.popup&&!0!==E.popup.closed&&(E.popup.close(),E.popup=null),b()},openPopout(){x(),E.popup=window.open(`${s.url}${s.url.lastIndexOf("?")>-1?"&":"?"}mode=popout`,"livechat-popout","width=365, height=510, toolbars=no"),E.popup.focus()},openWidget(){b()},removeWidget(){document.body.removeChild(a)},callback(e,t){y(e,t)}};function L(e){w("pageVisited",{change:e,location:JSON.parse(JSON.stringify(document.location)),title:document.title})}const O={href:null,title:null},C=e=>{e&&(s.url=e,(e=>{(a=document.createElement("div")).className="rocketchat-widget",a.style.position="fixed",a.style.width="86px",a.style.height="86px",a.style.bottom="0",a.style.right="0",a.style.zIndex="12345",a.dataset.state="closed";const t=document.createElement("div");t.className="rocketchat-container",t.style.width="100%",t.style.height="100%",(c=document.createElement("iframe")).id="rocketchat-iframe",c.allowTransparency="true",c.src=e,c.style.width="100%",c.style.height="100%",c.style.border="none",c.style.backgroundColor="transparent",t.appendChild(c),a.appendChild(t),document.body.appendChild(a);const n=({matches:e})=>{a&&(h=e,g("opened"===a.dataset.state))},i=window.matchMedia("screen and (max-device-width: 480px)");i.addListener(n),n(i)})(e),window.addEventListener("message",e=>{if("object"==typeof e.data&&void 0!==e.data.src&&"rocketchat"===e.data.src&&void 0!==E[e.data.fn]&&"function"==typeof E[e.data.fn]){const t=[].concat(e.data.args||[]);r(`api.${e.data.fn}`,...t),E[e.data.fn].apply(null,t)}},!1),setInterval(()=>{document.location.href!==O.href&&(L("url"),O.href=document.location.href),document.title!==O.title&&(L("title"),O.title=document.title)},800))};void 0!==window.initRocket&&(console.warn("initRocket is now deprecated. Please update the livechat code."),C(window.initRocket[0])),void 0!==window.RocketChat.url&&C(window.RocketChat.url);const R=window.RocketChat._;window.RocketChat=window.RocketChat._.push=function(e){e.call(window.RocketChat.livechat)},window.RocketChat.livechat={pageVisited:L,setCustomField:function(e,t,n){void 0===n&&(n=!0),w("setCustomField",[e,t,n])},setTheme:function(e){w("setTheme",e)},setDepartment:function(e){w("setDepartment",e)},clearDepartment:function(){w("clearDepartment")},setGuestToken:function(e){w("setGuestToken",e)},setGuestName:function(e){w("setGuestName",e)},setGuestEmail:function(e){w("setGuestEmail",e)},registerGuest:function(e){w("registerGuest",e)},onChatMaximized(e){v("chat-maximized",e)},onChatMinimized(e){v("chat-minimized",e)},onChatStarted(e){v("chat-started",e)},onChatEnded(e){v("chat-ended",e)},onPrechatFormSubmit(e){v("pre-chat-form-submit",e)},onOfflineFormSubmit(e){v("offline-form-submit",e)}},R.forEach(e=>{e.call(window.RocketChat.livechat)})}]);