!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var i;
/*!
 * EventEmitter v5.2.5 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */!function(t){"use strict";function o(){}var r=o.prototype,s=t.EventEmitter;function c(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function a(e){return function(){return this[e].apply(this,arguments)}}r.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},r.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===c(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},r.on=a("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=a("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(n=c(o[i],t))&&o[i].splice(n,1);return this},r.off=a("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},r.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},r.removeAllListeners=a("removeEvent"),r.emitEvent=function(e,t){var n,i,o,r,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(n=s[r].slice(0),o=0;o<n.length;o++)!0===(i=n[o]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},r.trigger=a("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=s,o},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}("undefined"!=typeof window?window:this||{})},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i);const r=()=>{};window.RocketChat=window.RocketChat||{_:[]};const s={};let c,a,u,d,l=[],f=!1,h=!1;const p="397px",m="542px",y="86px",v=["chat-maximized","chat-minimized","chat-started","chat-ended","pre-chat-form-submit","offline-form-submit"],w=new o.a;function g(e,t){return-1!==v.indexOf(e)&&w.on(e,t)}function b(e,t){void 0!==t?w.emit(e,t):w.emit(e)}function L(e,t){if(!f)return l.push([e,t]);const n={src:"rocketchat",fn:e,args:t};a.contentWindow.postMessage(n,"*")}function x(){"closed"!==c.dataset.state&&(h&&(document.body.style.cssText=u,document.body.scrollTop=d),c.dataset.state="closed",c.style.height=y,c.style.right="0",c.style.bottom="0",L("widgetClosed"),b("chat-minimized"))}function E(){"opened"!==c.dataset.state&&(h&&(d=document.body.scrollTop,u=document.body.style.cssText,document.body.style.cssText+=`overflow: hidden; height: 100%; width: 100%; position: fixed; top:${d}px;`),c.dataset.state="opened",c.style.height=m,L("widgetOpened"),document.querySelector(".rocketchat-widget iframe").focus(),b("chat-maximized"))}const O={popup:null,ready(){f=!0,l.length>0&&(l.forEach(function(e){L.apply(this,e)}),l=[])},minimizeWindow(){x()},restoreWindow(){O.popup&&!0!==O.popup.closed&&(O.popup.close(),O.popup=null),E()},toggleWindow(){"closed"===c.dataset.state?E():x()},openPopout(){x(),O.popup=window.open(`${s.url}?mode=popout`,"livechat-popout","width=365, height=510, toolbars=no"),O.popup.focus()},openWidget(){E()},removeWidget(){document.body.removeChild(c)},callback(e,t){b(e,t)}};function k(e){L("pageVisited",{change:e,location:JSON.parse(JSON.stringify(document.location)),title:document.title})}const R={href:null,title:null};function C(e){if(!e)return;s.url=e;const t=document.createElement("div");function n(e){e.matches?(h=!0,t.style.left="0",t.style.right="0",t.style.width="100%"):(t.style.left="auto",t.style.right="0",t.style.width=p)}t.dataset.state="closed",t.className="rocketchat-widget",t.innerHTML=`<div class="rocketchat-container" style="width:100%;height:100%"><iframe id="rocketchat-iframe" src="${e}" style="width:100%;height:100%;border:none;background-color:transparent" allowTransparency="true"></iframe> `+'</div><div class="rocketchat-overlay"></div>',t.style.position="fixed",t.style.width=p,t.style.height=y,t.style.borderTopLeftRadius="5px",t.style.borderTopRightRadius="5px",t.style.bottom="0",t.style.right="0",t.style.zIndex="12345",document.body.appendChild(t),c=document.querySelector(".rocketchat-widget"),a=document.getElementById("rocketchat-iframe"),window.addEventListener("message",e=>{if("object"==typeof e.data&&void 0!==e.data.src&&"rocketchat"===e.data.src&&void 0!==O[e.data.fn]&&"function"==typeof O[e.data.fn]){const t=[].concat(e.data.args||[]);r(e.data.fn,...t),O[e.data.fn].apply(null,t)}},!1);const i=window.matchMedia("screen and (max-device-width: 480px)");n(i),i.addListener(n),setInterval(()=>{document.location.href!==R.href&&(k("url"),R.href=document.location.href),document.title!==R.title&&(k("title"),R.title=document.title)},800)}void 0!==window.initRocket&&(console.warn("initRocket is now deprecated. Please update the livechat code."),C(window.initRocket[0])),void 0!==window.RocketChat.url&&C(window.RocketChat.url);const _=window.RocketChat._;window.RocketChat=window.RocketChat._.push=function(e){e.call(window.RocketChat.livechat)},window.RocketChat.livechat={pageVisited:k,setCustomField:function(e,t,n){void 0===n&&(n=!0),L("setCustomField",[e,t,n])},setTheme:function(e){L("setTheme",e)},setDepartment:function(e){L("setDepartment",e)},clearDepartment:function(){L("clearDepartment")},setGuestToken:function(e){L("setGuestToken",e)},setGuestName:function(e){L("setGuestName",e)},setGuestEmail:function(e){L("setGuestEmail",e)},registerGuest:function(e){L("registerGuest",e)},onChatMaximized(e){g("chat-maximized",e)},onChatMinimized(e){g("chat-minimized",e)},onChatStarted(e){g("chat-started",e)},onChatEnded(e){g("chat-ended",e)},onPrechatFormSubmit(e){g("pre-chat-form-submit",e)},onOfflineFormSubmit(e){g("offline-form-submit",e)}},_.forEach(e=>{e.call(window.RocketChat.livechat)})}]);